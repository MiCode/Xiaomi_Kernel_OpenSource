menu "GZ Trusty"

config TRUSTY_LOG
	tristate "GZ gz_log & trusty_log support"
	depends on MTK_ENABLE_GENIEZONE
	help
	 This symbol is used to build gz_log and trusty_log into kernel.
	 The gz_log driver will create a proc node which can only printthe gz
	 message.
	 It will be select if MTK_ENABLE_GENIEZONE is on.
	 If the gz_log driver failed or this symbol is false, the mtk logger
	 can not read the gz message correctly.

config TRUSTY_VIRTIO
	tristate "GZ Trusty virtio support"
	depends on MTK_ENABLE_GENIEZONE
	select VIRTIO
	help
	  This module adds support for virtio that work on communications
	  with GZ Trusty Services. VirtoIO is a usual technology used in
	  hypervisor environment. It is workable decided by another config,
	  MTK_ENABLE_GENIEZONE. It will be selected if VIRTIO is on. Another
	  config TRUSTY_VIRTIO_IPC will depend on this config.

config TRUSTY_VIRTIO_IPC
	tristate "GZ Trusty Virtio IPC driver"
	depends on TRUSTY_VIRTIO
	help
	  This module adds support for communications with GZ Trusty Services.
	  If you choose to build a module, it'll be called trusty-ipc.
	  Say N if unsure.

config MT_TRUSTY_DEBUGFS
	tristate "Trusty debugfs for Mediatek platforms"

config TRUSTY_INTERRUPT_MAP
	tristate "GZ Trusty interrupt map"
	depends on MTK_ENABLE_GENIEZONE

config TRUSTY_INTERRUPT_FIQ_ONLY
	tristate "GZ Trusty interrupt fiq support"
	depends on MTK_ENABLE_GENIEZONE && MTK_GIC_V3_EXT
	help
	  This is used for Trusty to support handling new flow in GICv3
	  If this is selected, NWd will not route IRQ to Secure OS
	  but just fire NOP.
	  This is MUST for us to handle G0S IRQ for Secure OS.

config MTK_NEBULA_VM_SUPPORT
	tristate "Nebula VM OS Enable"
	depends on MTK_ENABLE_GENIEZONE
	select MT_TRUSTY_DEBUGFS if (MTK_ENG_BUILD)
	help
	  This is used for MTK Geniezone to Support Nebula VM OS.
	  Nebula's IRQ will be routed by Linux to Geniezone.
	  Say Y if you would like to enable this feature.
	  If unsure, say N.

config TRUSTY_WDT_FIQ_ARMV7_SUPPORT
	tristate "Trusty WDT FIQ for arm"
	depends on MTK_ENABLE_GENIEZONE && MTK_NO_ATF && \
		   !MTK_KERNEL_IN_SECURE_MODE
	help
	  This module adds support for WDT FIQ function on ARMV7.
	  But it works only when MTK GENIEZONE is enabled, no ATF exists,
	  and kernel is not in secure mode which are controlled by
	  other configs, i.e., MTK_ENABLE_GENIEZONE, MTK_NO_ATF, and
	  MTK_KERNEL_IN_SECURE_MODE.

endmenu

# GZ Trusty
