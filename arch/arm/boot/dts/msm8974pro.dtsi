/* Copyright (c) 2013, The Linux Foundation. All rights reserved.
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 and
 * only version 2 as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 */

/*
 * As a general rule, only version-specific property overrides should be placed
 * inside this file. However, device definitions should be placed inside the
 * msm8974.dtsi file.
 */

/include/ "msm8974.dtsi"
/include/ "msm8974-v2-iommu.dtsi"
/include/ "msm8974-v2-iommu-domains.dtsi"
/include/ "msm8974pro-pm.dtsi"
/include/ "msm8974pro-ion.dtsi"

&soc {
	android_usb@fe8050c8 {
		compatible = "qcom,android-usb";
		reg = <0xfe8050c8 0xc8>;
		qcom,android-usb-swfi-latency = <1>;
	};

	qcom,msm-imem@fe805000 {
		compatible = "qcom,msm-imem";
		reg = <0xfe805000 0x1000>; /* Address and size of IMEM */
	};

	qcom,msm-thermal {
		/delete-property/ qcom,pmic-sw-mode-temp;
		/delete-property/ qcom,pmic-sw-mode-temp-hysteresis;
		/delete-property/ qcom,pmic-sw-mode-regs;
	};

	qcom,clock-krait@f9016000 {

		qcom,speed1-pvs0-bin-v0 =
			<          0       0   0 >,
			<  300000000  775000  72 >,
			<  345600000  775000  83 >,
			<  422400000  775000 101 >,
			<  499200000  780000 120 >,
			<  576000000  790000 139 >,
			<  652800000  800000 159 >,
			<  729600000  810000 180 >,
			<  806400000  820000 200 >,
			<  883200000  830000 221 >,
			<  960000000  840000 242 >,
			< 1036800000  850000 264 >,
			< 1113600000  865000 287 >,
			< 1190400000  875000 308 >,
			< 1267200000  890000 333 >,
			< 1344000000  900000 356 >,
			< 1420800000  915000 380 >,
			< 1497600000  925000 404 >,
			< 1574400000  940000 430 >,
			< 1651200000  955000 456 >,
			< 1728000000  970000 482 >,
			< 1804800000  985000 510 >,
			< 1881600000 1000000 538 >,
			< 1958400000 1015000 565 >,
			< 2035200000 1030000 596 >,
			< 2112000000 1045000 627 >,
			< 2188800000 1060000 659 >,
			< 2265600000 1075000 691 >;

		qcom,speed1-pvs1-bin-v0 =
			<          0       0   0 >,
			<  300000000  775000  72 >,
			<  345600000  775000  83 >,
			<  422400000  775000 101 >,
			<  499200000  775000 120 >,
			<  576000000  775000 139 >,
			<  652800000  785000 159 >,
			<  729600000  795000 180 >,
			<  806400000  805000 200 >,
			<  883200000  815000 221 >,
			<  960000000  825000 242 >,
			< 1036800000  835000 264 >,
			< 1113600000  850000 287 >,
			< 1190400000  860000 308 >,
			< 1267200000  870000 333 >,
			< 1344000000  885000 356 >,
			< 1420800000  895000 380 >,
			< 1497600000  905000 404 >,
			< 1574400000  920000 430 >,
			< 1651200000  935000 456 >,
			< 1728000000  950000 482 >,
			< 1804800000  965000 510 >,
			< 1881600000  980000 538 >,
			< 1958400000  995000 565 >,
			< 2035200000 1005000 596 >,
			< 2112000000 1020000 627 >,
			< 2188800000 1035000 659 >,
			< 2265600000 1050000 691 >;

		qcom,speed1-pvs2-bin-v0 =
			<          0       0   0 >,
			<  300000000  750000  72 >,
			<  345600000  750000  83 >,
			<  422400000  750000 101 >,
			<  499200000  750000 120 >,
			<  576000000  760000 139 >,
			<  652800000  770000 159 >,
			<  729600000  780000 180 >,
			<  806400000  790000 200 >,
			<  883200000  800000 221 >,
			<  960000000  810000 242 >,
			< 1036800000  820000 264 >,
			< 1113600000  830000 287 >,
			< 1190400000  840000 308 >,
			< 1267200000  850000 333 >,
			< 1344000000  865000 356 >,
			< 1420800000  875000 380 >,
			< 1497600000  885000 404 >,
			< 1574400000  900000 430 >,
			< 1651200000  915000 456 >,
			< 1728000000  930000 482 >,
			< 1804800000  945000 510 >,
			< 1881600000  955000 538 >,
			< 1958400000  970000 565 >,
			< 2035200000  980000 596 >,
			< 2112000000  995000 627 >,
			< 2188800000 1010000 659 >,
			< 2265600000 1025000 691 >;

		qcom,speed1-pvs3-bin-v0 =
			<          0       0   0 >,
			<  300000000  750000  72 >,
			<  345600000  750000  83 >,
			<  422400000  750000 101 >,
			<  499200000  750000 120 >,
			<  576000000  750000 139 >,
			<  652800000  755000 159 >,
			<  729600000  765000 180 >,
			<  806400000  775000 200 >,
			<  883200000  785000 221 >,
			<  960000000  795000 242 >,
			< 1036800000  805000 264 >,
			< 1113600000  815000 287 >,
			< 1190400000  825000 308 >,
			< 1267200000  835000 333 >,
			< 1344000000  850000 356 >,
			< 1420800000  860000 380 >,
			< 1497600000  870000 404 >,
			< 1574400000  885000 430 >,
			< 1651200000  900000 456 >,
			< 1728000000  910000 482 >,
			< 1804800000  925000 510 >,
			< 1881600000  935000 538 >,
			< 1958400000  945000 565 >,
			< 2035200000  960000 596 >,
			< 2112000000  970000 627 >,
			< 2188800000  985000 659 >,
			< 2265600000 1000000 691 >;

		qcom,speed1-pvs4-bin-v0 =
			<          0       0   0 >,
			<  300000000  750000  72 >,
			<  345600000  750000  83 >,
			<  422400000  750000 101 >,
			<  499200000  750000 120 >,
			<  576000000  750000 139 >,
			<  652800000  750000 159 >,
			<  729600000  755000 180 >,
			<  806400000  765000 200 >,
			<  883200000  775000 221 >,
			<  960000000  785000 242 >,
			< 1036800000  795000 264 >,
			< 1113600000  805000 287 >,
			< 1190400000  815000 308 >,
			< 1267200000  825000 333 >,
			< 1344000000  835000 356 >,
			< 1420800000  845000 380 >,
			< 1497600000  855000 404 >,
			< 1574400000  870000 430 >,
			< 1651200000  885000 456 >,
			< 1728000000  895000 482 >,
			< 1804800000  905000 510 >,
			< 1881600000  915000 538 >,
			< 1958400000  925000 565 >,
			< 2035200000  935000 596 >,
			< 2112000000  950000 627 >,
			< 2188800000  960000 659 >,
			< 2265600000  975000 691 >;

		qcom,speed1-pvs5-bin-v0 =
			<          0       0   0 >,
			<  300000000  725000  72 >,
			<  345600000  725000  83 >,
			<  422400000  725000 101 >,
			<  499200000  725000 120 >,
			<  576000000  725000 139 >,
			<  652800000  735000 159 >,
			<  729600000  745000 180 >,
			<  806400000  755000 200 >,
			<  883200000  765000 221 >,
			<  960000000  775000 242 >,
			< 1036800000  785000 264 >,
			< 1113600000  795000 287 >,
			< 1190400000  805000 308 >,
			< 1267200000  815000 333 >,
			< 1344000000  825000 356 >,
			< 1420800000  835000 380 >,
			< 1497600000  845000 404 >,
			< 1574400000  855000 430 >,
			< 1651200000  865000 456 >,
			< 1728000000  875000 482 >,
			< 1804800000  885000 510 >,
			< 1881600000  895000 538 >,
			< 1958400000  905000 565 >,
			< 2035200000  915000 596 >,
			< 2112000000  930000 627 >,
			< 2188800000  940000 659 >,
			< 2265600000  950000 691 >;

		qcom,speed1-pvs6-bin-v0 =
			<          0       0   0 >,
			<  300000000  725000  72 >,
			<  345600000  725000  83 >,
			<  422400000  725000 101 >,
			<  499200000  725000 120 >,
			<  576000000  725000 139 >,
			<  652800000  725000 159 >,
			<  729600000  735000 180 >,
			<  806400000  745000 200 >,
			<  883200000  755000 221 >,
			<  960000000  765000 242 >,
			< 1036800000  775000 264 >,
			< 1113600000  785000 287 >,
			< 1190400000  795000 308 >,
			< 1267200000  805000 333 >,
			< 1344000000  815000 356 >,
			< 1420800000  825000 380 >,
			< 1497600000  835000 404 >,
			< 1574400000  845000 430 >,
			< 1651200000  850000 456 >,
			< 1728000000  860000 482 >,
			< 1804800000  870000 510 >,
			< 1881600000  880000 538 >,
			< 1958400000  890000 565 >,
			< 2035200000  895000 596 >,
			< 2112000000  905000 627 >,
			< 2188800000  915000 659 >,
			< 2265600000  925000 691 >;

		qcom,speed3-pvs0-bin-v0 =
			<          0       0   0 >,
			<  300000000  800000  76 >,
			<  345600000  800000  87 >,
			<  422400000  800000 106 >,
			<  499200000  800000 125 >,
			<  576000000  800000 145 >,
			<  652800000  800000 164 >,
			<  729600000  800000 183 >,
			<  806400000  800000 202 >,
			<  883200000  800000 222 >,
			<  960000000  800000 241 >,
			< 1036800000  805000 261 >,
			< 1113600000  815000 282 >,
			< 1190400000  825000 305 >,
			< 1267200000  835000 327 >,
			< 1344000000  845000 350 >,
			< 1420800000  855000 373 >,
			< 1497600000  870000 398 >,
			< 1574400000  885000 424 >,
			< 1651200000  900000 449 >,
			< 1728000000  915000 476 >,
			< 1804800000  930000 503 >,
			< 1881600000  945000 530 >,
			< 1958400000  960000 559 >,
			< 2035200000  980000 590 >,
			< 2112000000 1000000 621 >,
			< 2188800000 1020000 654 >,
			< 2265600000 1040000 686 >,
			< 2342400000 1060000 723 >,
			< 2419200000 1080000 761 >,
			< 2496000000 1100000 800 >;

		qcom,speed3-pvs1-bin-v0 =
			<          0       0   0 >,
			<  300000000  800000  76 >,
			<  345600000  800000  87 >,
			<  422400000  800000 106 >,
			<  499200000  800000 125 >,
			<  576000000  800000 145 >,
			<  652800000  800000 164 >,
			<  729600000  800000 183 >,
			<  806400000  800000 202 >,
			<  883200000  800000 222 >,
			<  960000000  800000 241 >,
			< 1036800000  800000 261 >,
			< 1113600000  805000 282 >,
			< 1190400000  815000 305 >,
			< 1267200000  825000 327 >,
			< 1344000000  835000 350 >,
			< 1420800000  845000 373 >,
			< 1497600000  855000 398 >,
			< 1574400000  870000 424 >,
			< 1651200000  885000 449 >,
			< 1728000000  900000 476 >,
			< 1804800000  915000 503 >,
			< 1881600000  930000 530 >,
			< 1958400000  945000 559 >,
			< 2035200000  960000 590 >,
			< 2112000000  975000 621 >,
			< 2188800000  995000 654 >,
			< 2265600000 1015000 686 >,
			< 2342400000 1035000 723 >,
			< 2419200000 1055000 761 >,
			< 2496000000 1075000 800 >;

		qcom,speed3-pvs2-bin-v0 =
			<          0       0   0 >,
			<  300000000  775000  76 >,
			<  345600000  775000  87 >,
			<  422400000  775000 106 >,
			<  499200000  775000 125 >,
			<  576000000  775000 145 >,
			<  652800000  775000 164 >,
			<  729600000  775000 183 >,
			<  806400000  775000 202 >,
			<  883200000  775000 222 >,
			<  960000000  775000 241 >,
			< 1036800000  780000 261 >,
			< 1113600000  790000 282 >,
			< 1190400000  800000 305 >,
			< 1267200000  810000 327 >,
			< 1344000000  820000 350 >,
			< 1420800000  830000 373 >,
			< 1497600000  840000 398 >,
			< 1574400000  850000 424 >,
			< 1651200000  865000 449 >,
			< 1728000000  880000 476 >,
			< 1804800000  895000 503 >,
			< 1881600000  910000 530 >,
			< 1958400000  925000 559 >,
			< 2035200000  940000 590 >,
			< 2112000000  955000 621 >,
			< 2188800000  970000 654 >,
			< 2265600000  990000 686 >,
			< 2342400000 1010000 723 >,
			< 2419200000 1030000 761 >,
			< 2496000000 1050000 800 >;

		qcom,speed3-pvs3-bin-v0 =
			<          0       0   0 >,
			<  300000000  775000  76 >,
			<  345600000  775000  87 >,
			<  422400000  775000 106 >,
			<  499200000  775000 125 >,
			<  576000000  775000 145 >,
			<  652800000  775000 164 >,
			<  729600000  775000 183 >,
			<  806400000  775000 202 >,
			<  883200000  775000 222 >,
			<  960000000  775000 241 >,
			< 1036800000  775000 261 >,
			< 1113600000  780000 282 >,
			< 1190400000  790000 305 >,
			< 1267200000  800000 327 >,
			< 1344000000  810000 350 >,
			< 1420800000  820000 373 >,
			< 1497600000  830000 398 >,
			< 1574400000  840000 424 >,
			< 1651200000  850000 449 >,
			< 1728000000  865000 476 >,
			< 1804800000  880000 503 >,
			< 1881600000  895000 530 >,
			< 1958400000  910000 559 >,
			< 2035200000  925000 590 >,
			< 2112000000  940000 621 >,
			< 2188800000  955000 654 >,
			< 2265600000  970000 686 >,
			< 2342400000  985000 723 >,
			< 2419200000 1005000 761 >,
			< 2496000000 1025000 800 >;

		qcom,speed3-pvs4-bin-v0 =
			<          0       0   0 >,
			<  300000000  750000  76 >,
			<  345600000  750000  87 >,
			<  422400000  750000 106 >,
			<  499200000  750000 125 >,
			<  576000000  750000 145 >,
			<  652800000  750000 164 >,
			<  729600000  750000 183 >,
			<  806400000  750000 202 >,
			<  883200000  750000 222 >,
			<  960000000  750000 241 >,
			< 1036800000  760000 261 >,
			< 1113600000  770000 282 >,
			< 1190400000  780000 305 >,
			< 1267200000  790000 327 >,
			< 1344000000  800000 350 >,
			< 1420800000  810000 373 >,
			< 1497600000  820000 398 >,
			< 1574400000  830000 424 >,
			< 1651200000  840000 449 >,
			< 1728000000  850000 476 >,
			< 1804800000  865000 503 >,
			< 1881600000  880000 530 >,
			< 1958400000  895000 559 >,
			< 2035200000  910000 590 >,
			< 2112000000  925000 621 >,
			< 2188800000  940000 654 >,
			< 2265600000  955000 686 >,
			< 2342400000  970000 723 >,
			< 2419200000  985000 761 >,
			< 2496000000 1000000 800 >;

		qcom,speed3-pvs5-bin-v0 =
			<          0       0   0 >,
			<  300000000  750000  76 >,
			<  345600000  750000  87 >,
			<  422400000  750000 106 >,
			<  499200000  750000 125 >,
			<  576000000  750000 145 >,
			<  652800000  750000 164 >,
			<  729600000  750000 183 >,
			<  806400000  750000 202 >,
			<  883200000  750000 222 >,
			<  960000000  750000 241 >,
			< 1036800000  750000 261 >,
			< 1113600000  760000 282 >,
			< 1190400000  770000 305 >,
			< 1267200000  780000 327 >,
			< 1344000000  790000 350 >,
			< 1420800000  800000 373 >,
			< 1497600000  810000 398 >,
			< 1574400000  820000 424 >,
			< 1651200000  830000 449 >,
			< 1728000000  840000 476 >,
			< 1804800000  850000 503 >,
			< 1881600000  860000 530 >,
			< 1958400000  870000 559 >,
			< 2035200000  885000 590 >,
			< 2112000000  900000 621 >,
			< 2188800000  915000 654 >,
			< 2265600000  930000 686 >,
			< 2342400000  945000 723 >,
			< 2419200000  960000 761 >,
			< 2496000000  975000 800 >;

		qcom,speed3-pvs6-bin-v0 =
			<          0       0   0 >,
			<  300000000  725000  76 >,
			<  345600000  725000  87 >,
			<  422400000  725000 106 >,
			<  499200000  725000 125 >,
			<  576000000  725000 145 >,
			<  652800000  725000 164 >,
			<  729600000  725000 183 >,
			<  806400000  725000 202 >,
			<  883200000  725000 222 >,
			<  960000000  725000 241 >,
			< 1036800000  735000 261 >,
			< 1113600000  745000 282 >,
			< 1190400000  755000 305 >,
			< 1267200000  765000 327 >,
			< 1344000000  775000 350 >,
			< 1420800000  785000 373 >,
			< 1497600000  795000 398 >,
			< 1574400000  805000 424 >,
			< 1651200000  815000 449 >,
			< 1728000000  825000 476 >,
			< 1804800000  835000 503 >,
			< 1881600000  845000 530 >,
			< 1958400000  855000 559 >,
			< 2035200000  865000 590 >,
			< 2112000000  875000 621 >,
			< 2188800000  890000 654 >,
			< 2265600000  905000 686 >,
			< 2342400000  920000 723 >,
			< 2419200000  935000 761 >,
			< 2496000000  950000 800 >;
	};

	qcom,msm-cpufreq@0 {
		qcom,cpufreq-table =
			<  300000  300000  600 /*  75 MHz */ >,
			<  422400  422400 1200 /* 150 MHz */ >,
			<  652800  499200 1600 /* 200 MHz */ >,
			<  729600  576000 2456 /* 307 MHz */ >,
			<  883200  576000 2456 /* 307 MHz */ >,
			<  960000  960000 3680 /* 460 MHz */ >,
			< 1036800 1036800 3680 /* 460 MHz */ >,
			< 1190400 1036800 3680 /* 460 MHz */ >,
			< 1267200 1267200 4912 /* 614 MHz */ >,
			< 1497600 1497600 4912 /* 614 MHz */ >,
			< 1574400 1574400 6400 /* 800 MHz */ >,
			< 1728000 1651200 6400 /* 800 MHz */ >,
			< 1958400 1728000 7448 /* 931 MHz */ >,
			< 2265600 1728000 7448 /* 931 MHz */ >,
			< 2496000 1728000 7448 /* 931 MHz */ >;
	};
};

/* GPU overrides */
&msm_gpu {
	/* Updated chip ID */
	qcom,chipid = <0x03030002>;

	/* Updated bus bandwidth requirements */
	qcom,msm-bus,vectors-KBps =
		/* Off */
		<26 512 0 0>, <89 604 0 0>,
		/* SVS */
		<26 512 0 2400000>, <89 604 0 3000000>,
		/* Nominal / SVS */
		<26 512 0 4656000>, <89 604 0 3000000>,
		/* Nominal */
		<26 512 0 4656000>, <89 604 0 5120000>,
		/* Turbo / Nominal */
		<26 512 0 7464000>, <89 604 0 5120000>,
		/* Turbo */
		<26 512 0 7464000>, <89 604 0 6400000>;

       qcom,gpu-pwrlevels {
               #address-cells = <1>;
               #size-cells = <0>;

               compatible = "qcom,gpu-pwrlevels";

               qcom,gpu-pwrlevel@0 {
                       reg = <0>;
                       qcom,gpu-freq = <550000000>;
                       qcom,bus-freq = <5>;
                       qcom,io-fraction = <33>;
               };

               qcom,gpu-pwrlevel@1 {
                       reg = <1>;
                       qcom,gpu-freq = <320000000>;
                       qcom,bus-freq = <4>;
                       qcom,io-fraction = <66>;
               };

               qcom,gpu-pwrlevel@2 {
                       reg = <2>;
                       qcom,gpu-freq = <320000000>;
                       qcom,bus-freq = <3>;
                       qcom,io-fraction = <66>;
               };

               qcom,gpu-pwrlevel@3 {
                       reg = <3>;
                       qcom,gpu-freq = <200000000>;
                       qcom,bus-freq = <2>;
                       qcom,io-fraction = <100>;
               };

               qcom,gpu-pwrlevel@4 {
                       reg = <4>;
                       qcom,gpu-freq = <200000000>;
                       qcom,bus-freq = <1>;
                       qcom,io-fraction = <100>;
               };

               qcom,gpu-pwrlevel@5 {
                       reg = <5>;
                       qcom,gpu-freq = <27000000>;
                       qcom,bus-freq = <0>;
                       qcom,io-fraction = <0>;
               };
       };
};

&mdss_mdp {
	qcom,vbif-settings = <0x0004 0x00000001>;

	qcom,mdss-wb-off = <0x00011100 0x00011500
			    0x00011900 0x00011D00 0x00012100>;
	qcom,mdss-intf-off = <0x00012500 0x00012700
			      0x00012900 0x00012b00>;
	qcom,mdss-pingpong-off = <0x00012D00 0x00012E00 0x00012F00>;
	qcom,mdss-has-bwc;
	qcom,mdss-has-decimation;
	qcom,mdss-ad-off = <0x0013100 0x00013300>;
};

&mdss_hdmi_tx {
	reg =	<0xfd922100 0x370>,
		<0xfd922500 0x7C>,
		<0xfc4b8000 0x60F0>;
	reg-names = "core_physical", "phy_physical", "qfprom_physical";
};

&msm_vidc {
	qcom,vidc-ns-map = <0x40000000 0x40000000>;
	qcom,load-freq-tbl = <1036800 465000000>,
		<783360 465000000>,
		<489600 266670000>,
		<244800 133330000>;
	qcom,reg-presets = <0x80004 0x1>,
		<0x80070 0x11FFF>,
		<0x80074 0xA4>,
		<0x800A8 0x1FFF>,
		<0x80124 0x3>,
		<0xE0020 0x5555556>,
		<0xE0024 0x0>;
	qcom,bus-ports = <1>;
	qcom,enc-ocmem-ab-ib = <0 0>,
		<138000 1034000>,
		<414000 1034000>,
		<940000 1034000>,
		<1880000 2068000>,
		<3008000 3309000>,
		<3760000 4136000>,
		<4468000 2457000>;
	qcom,dec-ocmem-ab-ib = <0 0>,
		<176000 519000>,
		<456000 519000>,
		<864000 519000>,
		<1728000 1038000>,
		<2766000 1661000>,
		<3456000 2076000>,
		<3662000 2198000>;
	qcom,enc-ddr-ab-ib = <0 0>,
		<120000 302000>,
		<364000 302000>,
		<804000 302000>,
		<1608000 604000>,
		<2576000 967000>,
		<4680000 1404000>,
		<4988000 1496000>;
	qcom,dec-ddr-ab-ib = <0 0>,
		<208000 303000>,
		<536000 1600000>,
		<1012000 1600000>,
		<2024000 1600000>,
		<3240000 1600000>,
		<4048000 1600000>,
		<4264000 1600000>;
	qcom,max-hw-load = <1281600>; /* max(4k X 2304 @ 24, 4k X 2160 @ 30) + 1080p @ 30 */
	qcom,buffer-type-tz-usage-table = <0x91 0x1>,
					<0x42 0x2>,
					<0x120 0x3>;
	qcom,vidc-iommu-domains {
		qcom,domain-ns {
			qcom,vidc-domain-phandle = <&venus_domain_ns>;
			qcom,vidc-partition-buffer-types = <0x1ff>,
							<0x200>;
		};
		qcom,domain-sec-bs {
			qcom,vidc-domain-phandle = <&venus_domain_sec_bitstream>;
			qcom,vidc-partition-buffer-types = <0x91>;
		};
		qcom,domain-sec-px {
			qcom,vidc-domain-phandle = <&venus_domain_sec_pixel>;
			qcom,vidc-partition-buffer-types = <0x42>;
		};
		qcom,domain-sec-np {
			qcom,vidc-domain-phandle = <&venus_domain_sec_non_pixel>;
			qcom,vidc-partition-buffer-types = <0x120>;
		};
	};
};

&memory_hole {
	qcom,memblock-remove = <0x05400000 0xab00000>; /* Address and size of the hole */
};
